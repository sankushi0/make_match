!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var o=function(){var e,t=n(1);n(2).detect();return(e={TAB:9,ENTER:13,ESCAPE:27,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,SLASH:{PRESS:47},INPUT_JAPANESE:229})[t.ARROW_LEFT]=e.ARROW_LEFT,e[t.ARROW_UP]=e.ARROW_UP,e[t.ARROW_RIGHT]=e.ARROW_RIGHT,e[t.ARROW_DOWN]=e.ARROW_DOWN,e}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e=n(2).detect(),t={};return t.ARROW_LEFT=e.isIE11?"Left":"ArrowLeft",t.ARROW_UP=e.isIE11?"Up":"ArrowUp",t.ARROW_RIGHT=e.isIE11?"Right":"ArrowRight",t.ARROW_DOWN=e.isIE11?"Down":"ArrowDown",t}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e,t,n,o,s,i,a,r,c,l,u,d=function(e){return null!==navigator.userAgent.match(e)},f=!1;function m(e){var t;return null===(t=e.exec(navigator.userAgent))?null:t[1]}return{detect:function(){return e=d(/^Mozilla.+(iPhone|iPod|iPhone Simulator);.+iPhone OS.+AppleWebKit/)||d(/Android.+Mobile/),t=d(/iPad;.+ OS.+AppleWebKit/)||d(/Android/)&&navigator.userAgent.indexOf("Mobile")<0,n=d(/Android.+Chrome/),o=d(/^Mozilla\/.+AppleWebKit\/.+Chrome\/.+Safari.+$/),s=d(/Firefox/),i=d(/AppleWebKit.+Safari/)&&!o,a=d(/ OPR\/[0-9]/),d(/MSIE/)?(r=!0,u=m(/MSIE ([\d\.]+)/)):d(/Trident/)&&(r=!0,"11.0"!==(u=m(/rv:([\d\.]+)/))?u=null:f=!0),c=d(/MSIE 8\.0/),l=d(/^Mozilla\/[\d\.]+ \(Windows NT 6\.3(; WOW\d+)?\) AppleWebKit\/[\d\.]+ \(KHTML, like Gecko\) Chrome\/[\d\.]+ Safari\/[\d\.]+$/),{isSmartphone:e,isTablet:t,isAndroidChrome:n,isChrome:o,isFirefox:s,isSafari:i,isOpera:a,isIE:r,isIE8:c,isIE11:f,isWin81Chrome:l,isAvailableFlash:function(){if(navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0;try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(e){return!1}return!1},ieVersion:u}}}}();e.exports=o},function(e,t,n){"use strict";var o=n(4),s=n(5),i=n(6),a=n(9),r=n(10),c=n(14),l=n(18),u=n(25),d=n(27),f=n(31),m=n(32),p=n(35),_=n(39),h=n(40),v=n(42);$(function(){$("body").on("keypress",function(e){o.focusIfSlashKeyPressed(e),$("#question_comment_body")[0]&&p.quote.execute(e,"#question_comment_body"),$("#forum_comment_body")[0]&&p.quote.execute(e,"#forum_comment_body")}),document.body.addEventListener("keydown",function(e){l.hotkey.detect(e)}),o.enableIncrementalSearch(".enable-incremental-lesson-search"),$("#user_register_form").on("blur",'input[name="user_name"]',function(){s.checkUserName()}),i.appendModule("#lesson-complete-button","on_lesson_page"),i.appendModule(".lesson_complete_button","on_package_page"),a.enable("#lesson_star"),"undefined"==typeof ace?(r.copy.enable(".source_copy"),r.diff.enable(".toggle_diff"),r.toggle.enable(".show-hidden-source")):(c.copy.enable(".source_copy"),c.diff.enable(".toggle_diff"),c.toggle.enable(".show-hidden-source")),$(".each_source_area").each(function(){1===$(this).data("is-readme")&&$(this).insertBefore(".each_source_area:first")}),$(".source-select").find("option").each(function(){1===$(this).data("is-readme")&&$(this).insertAfter(".source-select > option:first")}),$(".each_source_area.no-diff").each(function(){$(this).insertAfter(".each_source_area:last")}),$(".source-select").find("option").each(function(){1===$(this).data("no-diff")&&$(this).appendTo(".source-select")}),l.settings.autoplay.enable("#autoplay"),u.enable(),d.floating.enable("#q_float_btn","#q_float_board","#q_float_close"),d.request.enable(),1===$("#submit_inquiry").length&&f.setup(),document.getElementById("user_register_form")&&v.exchange(),null!==document.getElementById("change_card_form")&&m.token.setup("change_card_form",["card_number","card_expire_month","card_expire_year","security_code","change_card_submit_btn"],"Dotinstall.payment.callbacks.changeCard"),null!==document.getElementById("business_purchase_form")&&m.token.setup("business_purchase_form",["card_number","card_name","card_expire_month","card_expire_year","security_code","back_to_input","do_card_payment_btn"],"Dotinstall.payment.callbacks.purchaseLicense"),null!==document.getElementById("premium_purchase_form")&&m.token.setup("premium_purchase_form",["card_number","card_expire_month","card_expire_year","security_code","do_card_payment_btn"],"Dotinstall.payment.callbacks.registerPremium"),_.init(),_.fade(),document.getElementById("__next")||h.setup()})},function(e,t,n){"use strict";var o=function(){var e=n(0),t=!1,o=-1;return{focusIfSlashKeyPressed:function(t){if(t.which===e.SLASH.PRESS){var n=t.target||t.srcElement;(1!==n.nodeType||"TEXTAREA"!==n.nodeName&&"INPUT"!==n.nodeName)&&(t.preventDefault(),document.getElementById("q_in_topbar")?document.getElementById("q_in_topbar").focus():document.getElementById("q")&&(document.getElementById("q").focus(),document.getElementById("q").select()))}},enableIncrementalSearch:function(n){$(n).find(".q").on("keyup focus",function(n){!function(n,s){(function(e){switch(e.attr("id")){case"q_in_topbar":$("#incremental").appendTo("#topbar_search");break;case"q_in_lessons":$("#incremental").appendTo("#lesson_index_search")}})(n),!!function(n,s){if(!1===t&&$("#incremental").children().eq(o).is(":visible")&&1==$("#incremental").find(".incremental-row.selected").length&&$("#incremental").find(".incremental-row.selected").data("href")&&s==e.ENTER){var i=$("#incremental").find(".incremental-row.selected");return HMHM.search.track(n.val(),"incre-p-with-key",o+1,0,i.text(),i.data("href")),!0}return!1}(n,s)||(!!function(n){return!1===t&&(n==e.TAB||n==e.ARROW_UP||n==e.ARROW_DOWN)&&($("#incremental").children().removeClass("selected"),n==e.ARROW_UP?--o<0&&(o=$("#incremental").children().length-1):++o==$("#incremental").children().length&&(o=0),$("#incremental").children().eq(o).addClass("selected"),!0)}(s)||""!==n.val()&&function(e){var t,n,s=[],i="";for(o=-1,$("#incremental").empty(),n=0;n<HMHM.packages.length;n++)(t=HMHM.packages[n].name.toLowerCase().indexOf(e.val().toLowerCase(),0))>=0&&(0!==HMHM.packages[n].name.indexOf("【旧版】")&&0!==HMHM.packages[n].name.indexOf("【サポート終了】")||(t+=999),!1===HMHM.packages[n].is_basic&&(t+=10),s.push({package:HMHM.packages[n],index:t,i:n}));for(s.sort(function(e,t){return e.index===t.index?e.package.name.length-t.package.name.length:e.index-t.index}),n=0;n<10&&n<s.length;n++)i="0"===s[n].package.is_premium?"hidden":"",$('<div class="incremental-row"></div>').data("href","/lessons/"+s[n].package.ename).append($('<span class="incremental-row-link"></span>').append($('<span class="incremental-row-img package-theme-icon package-theme-bgcolor-'+s[n].package.theme_color+'"></span>').append($("<img>").attr("src",s[n].package.main_symbol_path))).append($("<span></span>").text(s[n].package.name)).append($('<img class="premium-tag">').attr("src","/img/premium_tag.png").addClass(i))).appendTo("#incremental")}(n))}($(this),n.which)}).on("keydown",function(n){!function(n){if(HMHM.navigator.isFirefox)t=!1;else{if(n.which==e.INPUT_JAPANESE)return void(t=!0);t=!1}$("#incremental").children().length>0&&(n.which==e.TAB||n.which==e.ARROW_UP||n.which==e.ARROW_DOWN)&&n.preventDefault(),$("#incremental").children().length>0&&-1!==o&&n.which==e.ENTER&&n.preventDefault()}(n)}),$("#incremental").on("mouseover",".incremental-row",function(e){$("#incremental").children().removeClass("selected"),$(this).addClass("selected"),o=$(this).index()}),$("#incremental").on("click",".incremental-row",function(e){HMHM.search.track($(this).parents("form.enable-incremental-lesson-search").find(".q").val(),"incre-p-with-click",o+1,0,$(this).text(),$(this).data("href"))}),$("body").click(function(e){var t=e.target||e.srcElement;"q"!==$(t).attr("id")&&0===$(t).parents("#incremental").length&&$("#incremental").empty()})}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){function e(e){$("#user_name_check_result").addClass("label-important").removeClass("label-success").text(e).show(),$("#user_name_check_loader").hide()}return{checkUserName:function(){var t=$("#user_name").val();if(""===t)return!1;try{!function(t){if(" "===t.charAt(0)||" "===t.charAt(t.length-1))throw e("半角空白は使えません"),new Error}(t)}catch(e){return!1}$("#user_name_check_result").hide(),$("#user_name_check_loader").show(),$("div.inputError").hide(),function(t){$.ajax({url:"/signup/check_user_name",type:"POST",data:{user_name:t,one_time_token:$('input[name="one_time_token"]:first').val()}}).done(function(t){t.error?e(t.error_message):function(e){$("#user_name_check_result").addClass("label-success").removeClass("label-important").text(e).show(),$("#user_name_check_loader").hide()}(t.message)}).fail(function(){})}(t)}}}();e.exports=o},function(e,t,n){"use strict";var o={on_lesson_page:n(7),on_package_page:n(8)},s=function(){var e,t,n,s={},i=!1;return{appendModule:function(a,r){s[a]=r,$(a).on("click",function(r){r.preventDefault(),$("#user_id")[0]&&""!==$("#user_id").val()&&!$(this).hasClass("disabled")&&function(a,r){if(i)return!1;i=!0,e=a,t=r,1===$("#lesson_id").length?n=$("#lesson_id").val():""!==e.data("lesson_id")&&(n=e.data("lesson_id")),e.prop("disabled",!0),$.ajax({url:"/lesson/complete.json",type:"POST",data:{id:n,user_id:$("#user_id").val(),one_time_token:$('input[name="one_time_token"]:first').val()},timeout:15e3}).done(function(a){!function(a){var r;if(i=!1,e.prop("disabled",!1),!a.result)return alert(a.error_message),!1;r=o[s[t]],a.is_canceled?r.cancel(e,n,a):r.complete(e,n,a),r.finish(a)}(a)}).fail(function(){})}($(this),a)}).on("reset",function(){i=!1})},getResponseModule:function(e){return o[s[t]]}}}();e.exports=s},function(e,t,n){"use strict";var o=function(){function e(e){return Math.floor(100*e.completed_lesson_count/e.lesson_count)}function t(t){var n=e(t);return document.getElementById("lesson_complete_message_bar").style.width=n+"%",document.getElementById("lesson_complete_message_bar").classList.add("animation"),n}function n(e,t,n){var o,s,i,a,r=[];for(s=e.popup_visual,(i=document.createElement("div")).classList.add("doneButtonItem-"+s),o=0;o<n.length;o++)r[o]=document.createElement("div"),r[o].classList.add("doneButtonItem-"+s+"__"+n[o]),i.appendChild(r[o]);(a=document.createElement("div")).classList.add("doneButtonItem-"+s+"__msg"),i.appendChild(a),document.getElementById("lesson_complete_message").appendChild(i),setTimeout(function(){var o,c;for(i.classList.add("doneButtonItem-"+s+"-active"),o=0;o<n.length;o++)r[o].classList.add("doneButtonItem-"+s+"__"+n[o]+"-active");c=Math.floor(Math.random()*t)+1,("praise"===s||"award"===s||"great"===s)&&e.lesson_count>=30&&(c=Math.random()<.5?4:5),a.classList.add("doneButtonItem-"+s+"__msg-0"+c+"-active")},2e3),setTimeout(function(){var e;for(e=0;e<n.length;e++)i.removeChild(r[e]);i.removeChild(a),i.parentNode.removeChild(i)},7e3)}return{complete:function(e,o,s){var i,a;$("#lesson-complete-button").addClass("completed"),$("#completeButtonLabel").text("完了済").addClass("op5"),$("#cancelMsg").slideDown(500),$("#lesson_row_"+o).find("a.lesson_title").addClass("done"),document.getElementById("lesson_complete_message").classList.add("active"),i=t(s),a=function(e){switch(e.popup_visual){case"cheer":return n(e,3,["cloud-01","cloud-02","balloon"]),!0;case"go":return n(e,3,["star-01","star-02","rocket","smoke"]),!0;case"break":return n(e,2,["coffee","donuts","beans"]),!0;case"climb":return n(e,2,["cloud","mountain"]),!0;case"praise":return n(e,3,["trophy","star-01","star-02","star-03","star-04"]),!0;case"award":return n(e,3,["medal","star-01","star-02"]),!0;case"great":return n(e,3,["decoration","star-01","star-02"]),!0}return!1}(s),100===i?(document.getElementById("lesson_complete_message_complete_lesson_count").textContent="全"+s.lesson_count+"本",document.getElementById("lesson_complete_message_unit").classList.add("hide"),document.getElementById("lesson_complete_message_particle").classList.add("doneButtonMessage__particle"),document.getElementById("lesson_complete_message_total_lesson_count").classList.remove("show")):(document.getElementById("lesson_complete_message_complete_lesson_count").textContent=s.completed_lesson_count,document.getElementById("lesson_complete_message_total_lesson_count").textContent="(全"+s.lesson_count+"回)",document.getElementById("lesson_complete_message_total_lesson_count").classList.add("show")),setTimeout(function(){document.getElementById("lesson_complete_message").classList.remove("active"),document.getElementById("lesson_complete_message_particle").classList.remove("doneButtonMessage__particle"),document.getElementById("lesson_complete_message_bar").classList.remove("animation")},a?6e3:3e3)},cancel:function(e,n,o){$("#lesson-complete-button").removeClass("completed"),$("#completeButtonLabel").text("完了").removeClass("op5"),$("#cancelMsg").slideUp(500),$("#lesson_row_"+n).find("a.lesson_title").removeClass("done"),$("#lesson_completed_user_"+$("#user_id").val()).remove(),$("#completed_users_count").text(1*$("#completed_users_count").text()-1),"0"==$("#completed_users_count").text()&&$("#no_completed_users").show(),t(o)},finish:function(t){$("#completed_lesson_count").text(t.completed_lesson_count),$("#complete_average").text(e(t)),HMHM.lesson.animateProgressBar(t)}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{complete:function(e,t,n){e.find("span.iconDotinstall").text("完了済").addClass("op5"),$("#lesson_row_"+t).find("a.lesson_title").addClass("done")},cancel:function(e,t,n){e.find("span.iconDotinstall").text("未完了").removeClass("op5"),$("#lesson_row_"+t).find("a.lesson_title").removeClass("done")},finish:function(e){var t;$("#remaining_lesson_count").text(e.remaining_lesson_count),$("#completed_lesson_count").text(e.completed_lesson_count),t=Math.floor(100*e.completed_lesson_count/e.lesson_count),$("#complete_average").text(t),HMHM.lesson.animateProgressBar(e),Dotinstall.progressBar.package.update(t)}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e;return{enable:function(t){e=t,$(e).on("click",function(t){t.preventDefault(),$.ajax({url:"/lesson/star.json",type:"POST",data:{id:$("#lesson_id").val(),user_id:$("#user_id").val(),one_time_token:$('input[name="one_time_token"]:first').val()},timeout:15e3}).done(function(t){!function(t){if(!t.result)return alert(t.error_message),!1;t.unstared?$(e).removeClass("stared"):$(e).addClass("stared")}(t)}).fail(function(){})})}}}();e.exports=o},function(e,t,n){"use strict";var o={copy:n(11),diff:n(12),toggle:n(13)};e.exports=o},function(e,t,n){"use strict";var o=function(){return{enable:function(e){$(e).click(function(){var e,t=$(this).parent().siblings("textarea");if(t.is(":visible"))return t.select(),!0;e=$(this).parent().siblings("pre:visible"),t.css({overflow:"hidden",width:e.width(),height:e.height(),"font-size":e.css("font-size"),"font-family":e.css("font-family"),padding:e.css("padding"),cursor:"default"}),e.hide(),t.show().select()})}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{enable:function(e){$(e).click(function(){var e,t;$(this).hasClass("disabled")||(e=$(this).parent().parent().siblings("pre").eq(0),t=$(this).parent().parent().siblings("pre").eq(1),$(this).parent().parent().siblings("textarea").hide(),$(this).blur(),$(this).hasClass("btn-success")?(t.hide(),e.show(),$(this).removeClass("btn-success")):(e.hide(),t.show(),$(this).addClass("btn-success")))})}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{enable:function(e){$(e).on("click",function(e){var t=this;e.preventDefault(),$(t).hasClass("opened")?($(t).removeClass("opened").parent().siblings("pre").slideUp(300,function(){$(t).text("ソースコードを表示").parent().removeClass("opened")}).siblings("textarea").hide(),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!0)):($(t).addClass("opened").text("ソースコードを閉じる").parent().addClass("opened").siblings("pre").slideDown(300),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!1))})}}}();e.exports=o},function(e,t,n){"use strict";var o={copy:n(15),diff:n(16),toggle:n(17)};e.exports=o},function(e,t,n){"use strict";var o=function(){return{enable:function(e){$(e).click(function(){var e;$(this).parents(".sourceBox").find(".toggle_diff").removeClass("btn-success"),$(this).parents(".each_source_area").find(".source-editor").show(),$(this).parents(".each_source_area").find(".source-editor-diff").hide(),(e=Dotinstall.sources[$(this).parents(".each_source_area").index()]).getSelection().isEmpty()?(e.selectAll(),e.focus()):(e.clearSelection(),e.focus())})}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{enable:function(e){$(e).click(function(){var e,t;$(this).hasClass("disabled")||(e=$(this).parent().parent().siblings(".source-editor"),t=$(this).parent().parent().siblings(".source-editor-diff"),$(this).blur(),$(this).hasClass("btn-success")?($(this).removeClass("btn-success"),e.show(),t.hide(),Dotinstall.sources[$(this).parents(".each_source_area").index()].clearSelection()):($(this).addClass("btn-success"),e.hide(),t.show(),Dotinstall.diffs[$(this).parents(".each_source_area").index()].resize()))})}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{enable:function(e){$(e).on("click",function(e){var t=this;e.preventDefault(),$(t).hasClass("opened")?($(t).removeClass("opened").parent().siblings(".source-editor").slideUp(300,function(){$(t).text("ソースコードを表示").parent().removeClass("opened")}),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!0)):($(t).addClass("opened").text("ソースコードを閉じる").parent().addClass("opened").siblings(".source-editor").slideDown(300,function(){Dotinstall.sources[$(t).parents(".each_source_area").index()].resize()}),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!1))})}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e=n(19),t=n(20),o=n(22);return{alert:e,hotkey:t,settings:n(23),monitor:o}}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{closeVolumeAlert:function(e){$("#volume_alert_mask").hide(),Dotinstall.cookie.set("volume_alert_close",e,void 0,"/lessons/")}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e=n(21),t=(n(0),n(1));return{detect:function(n){var o=new e(n),s=n.target;(o.is(t.ARROW_RIGHT)||o.is(t.ARROW_LEFT))&&(1!==s.nodeType||"TEXTAREA"!==s.nodeName&&"INPUT"!==s.nodeName)&&(o.is(t.ARROW_RIGHT)?Dotinstall.videoController.forwardTo(5):o.is(t.ARROW_LEFT)&&Dotinstall.videoController.rewindTo(5),n.preventDefault())}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e=n(0),t=function(e){this.event=e,void 0!==e.key?this.detectType=1:this.detectType=9};return t.prototype.is=function(t){return 1===this.detectType?this.event.key===t:this.event.which===e[t]},t}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e,t=Date.now(),n=5e3,o=100;function s(){document.getElementById("vimeo_player")||function(){var i=document.querySelector(".vsc-controller");i||Date.now()-t>n?(clearTimeout(e),i&&(i.parentNode.removeChild(i),void 0!==HMHM.movie.videojs.player_&&HMHM.movie.videojs.player_.playbackRate(1))):e=setTimeout(s,o)}()}return{run:s}}();e.exports=o},function(e,t,n){"use strict";var o={autoplay:n(24)};e.exports=o},function(e,t,n){"use strict";var o=function(){return{enable:function(e){$(e).on("click",function(){$("#autoplay").is(":checked")?function(){if(void 0===HMHM.movie.videojs)return!1;void 0!==HMHM.movie.videojs.player_&&HMHM.movie.videojs.player_.on("ended",function(){HMHM.movie.videojs.on.ended()})}():function(){if(void 0===HMHM.movie.videojs)return!1;void 0!==HMHM.movie.videojs.player_&&HMHM.movie.videojs.player_.off("ended"),HMHM.movie.autoplay.removeAutoplayCookie()}(),$.post("/user/update_autoplay.json",{user_id:$("#user_id").val(),autoplay:$("#autoplay").is(":checked")?1:0,one_time_token:$(".one_time_token").val()})})}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e=".tabs",t=".tab-body";function o(n){var o="tab_body_"+n.data("tab-id");n.addClass("active").siblings("li").removeClass("active"),$(t).each(function(){$(this).attr("id")===o&&($(this).show(),$(this).siblings().hide())}),!0===n.parent(e).data("tab-save")&&HMHM.cookie.set(n.parent(e).data("tabs-id"),n.data("tab-id"),2592e6,"/lessons/")}return{enable:function(){$(t).hide(),$(t+".active").show(),$(e+" > li").on("click",function(){o($(this))}),$(e).each(function(){!0===$(this).data("tab-save")&&function(t){var n,s;n=function(e){var t=[],n="";return e.children("li").each(function(){t.push($(this).data("tab-id"))}),n="tabs_state_"+t.join("_"),e.data("tabs-id",n),n}(t),null!==(s=HMHM.cookie.get(n))&&$(e+" > li").each(function(){$(this).data("tab-id")===s&&o($(this))})}($(this))})},scroll:n(26)}}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e,t,n,o,s=100,i=300,a=0;function r(){return a>s?s:a}function c(){var e=o.width()-$(n).width()-a;return e>s?s:e}return{enable:function(s,l){e=document.getElementById(s),t=document.getElementById(l),n=function e(t){return t.parentNode?t.parentNode.classList.contains("tabs-scroll")?t.parentNode:e(t.parentNode):null}(e),o=$("#"+e.dataset.scrollTab),e.addEventListener("click",function(e){var t;e.preventDefault(),t=r(),o.animate({marginLeft:"+="+t+"px"},i),a-=t,n.classList.remove("scroll-end"),0===r()&&n.classList.remove("scroll-start")}),t.addEventListener("click",function(e){var t;e.preventDefault(),t=c(),o.animate({marginLeft:"-="+t+"px"},i),a+=t,n.classList.add("scroll-start"),0===c()&&n.classList.add("scroll-end")})}}}();e.exports=o},function(e,t,n){"use strict";var o={floating:n(28),request:n(29),notification:n(30)};e.exports=o},function(e,t,n){"use strict";var o=function(){return{enable:function(e,t,n){var o,s,i;function a(n){n&&$(e).removeClass("init"),$(e).addClass("open-float").removeClass("close-float"),$(t).addClass("open-float"),$(t).fadeIn(),Dotinstall.cookie.set("q_float_close",0,7776e3,"/")}function r(n){n&&$(e).removeClass("init"),$(e).removeClass("open-float").addClass("close-float"),$(t).removeClass("open-float"),$(t).fadeOut(),Dotinstall.cookie.set("q_float_close",1,7776e3,"/")}$(e).on("click",function(){$(t).hasClass("open-float")?r(!0):a(!0)}),$(n).on("click",function(){$(e).click()}),o=Dotinstall.cookie.get("q_float_close"),s=document.getElementById("side_preview"),i=document.getElementById("side_terminal_container"),s&&s.classList.contains("active")||i?r(!1):null===o||"0"===o?a(!1):r(!1)}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{enable:function(){$("#q_lock_btn").on("click",function(){$("#q_lock_btn").prop("disabled",!0),$.post("/q/"+$("#question_id").val()+"/lock.json",{user_id:$("#user_id").val(),one_time_token:$(".one_time_token").val()}).done(function(){location.reload()}).fail(function(){$("#q_lock_btn").prop("disabled",!1)})}),$("#q_unlock_btn").on("click",function(){$("#q_unlock_btn").prop("disabled",!0),$.post("/q/"+$("#question_id").val()+"/unlock.json",{user_id:$("#user_id").val(),one_time_token:$(".one_time_token").val()}).done(function(){location.reload()}).fail(function(){$("#q_unlock_btn").prop("disabled",!1)})})}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{watch:function e(t){$.get(t).done(function(e){var t=document.getElementById("question_notification"),n=document.getElementById("question_notification_list");for(void 0===e.has_notification||!1===e.has_notification?t.classList.remove("has-unread"):t.classList.add("has-unread");n.firstChild;)n.removeChild(n.firstChild);if(void 0===e.updated_questions||0===e.updated_questions.length)return n.appendChild(function(){var e=document.createElement("li");return e.classList.add("di-dropdown-menu-placeholder"),e.textContent="新着のお知らせはありません",e}()),n.classList.add("empty-list"),void n.classList.remove("full-link-list");n.classList.remove("empty-list"),n.classList.add("full-link-list"),e.updated_questions.forEach(function(e){var t=document.createElement("li"),o=document.createElement("a"),s=document.createElement("span"),i=document.createElement("span"),a=document.createElement("div"),r="";switch(s.classList.add("question-notification-list-date"),i.classList.add("question-notification-list-new"),a.classList.add("question-notification-list-title"),r="質問「"+e.title+"」",e.type){case"teacher_authorize":r+="の担当の先生が決まりました。";break;case"comment_add":r+="にコメントがありました。";break;case"close":r+="が終了しました。";break;case"open":r+="が再開されました。";break;case"bot":r+="に更新がありました。"}a.textContent=r,s.textContent=e.updated_at.replace("-","/").substring(0,16),i.textContent="NEW",o.href="/q/"+e.id,o.appendChild(s),void 0!==e.has_unread&&!0===e.has_unread&&o.appendChild(i),o.appendChild(a),t.appendChild(o),n.appendChild(t)})}),setTimeout(function(){e(t)},7e3)}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{setup:function(){$.post("/contact/exchange_token.json",{prepare_token:$("#prepare_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){$("#prepare_token").remove(),$("#js_token").val(e.token)}),$("#submit_inquiry").on("click",function(){if(!(""===$("#mail").val()?(alert("メールアドレスを入力してください。"),$("#mail").focus(),0):""!==$("#body").val()||(alert("お問い合わせ内容を記入してください。"),$("#body").focus(),0)))return!1;$("#submit_inquiry").prop("disabled",!0),$.post("/contact/create",{user_name:$("#user_name").val(),mail:$("#mail").val(),url:$("#url").val(),body:$("#body").val(),user_agent:$("#user_agent").val(),screen_size:$("#screen_size").val(),js_token:$("#js_token").val(),one_time_token:$('input[name="one_time_token"]:first').val()},function(e){e.error?($("#submit_inquiry").prop("disabled",!1),alert(e.error.message)):location.href="/contact/done"})})}}}();e.exports=o},function(e,t,n){"use strict";var o=n(33),s=n(34),i={token:o,callbacks:s};e.exports=i},function(e,t,n){"use strict";var o=function(){var e=!1;return{setup:function(t,n,o){var s,i=document.getElementById(t);return!e&&null!==i&&(Dotinstall.payment.callbacks.setFormSelector(t),Dotinstall.payment.callbacks.setSelectorsOfComponents(n),$.post("/payment/get_gpay_api_key.json",{prepare_token:$("#prepare_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){$("#prepare_token").remove(),$("#js_token").val(e.token),s=e.api_key}),void i.addEventListener("submit",function(e){var t={};return e.preventDefault(),function(e){var t;for(t=0;t<e.length;t++)document.getElementById(e[t]).disabled=!0}(n),t.cardno=document.getElementById("card_number").value,t.expire=100*(document.getElementById("card_expire_year").value-0)+(document.getElementById("card_expire_month").value-0),-1!==n.indexOf("card_name")&&(t.holdername=document.getElementById("card_name").value),-1!==n.indexOf("security_code")&&(t.securitycode=document.getElementById("security_code").value),Multipayment.init(s),Multipayment.getToken(t,o),!1}))}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e,t;function n(){var t;for(t=0;t<e.length;t++)document.getElementById(e[t]).disabled=!1}function o(e){e-0<110?alert("カード番号に誤りがあります"):e-0<121?alert("有効期限に誤りがあります"):e-0<123?alert("セキュリティコードに誤りがあります"):e-0<133?alert("名義に誤りがあります"):alert("エラーが発生しました。しばらくしてからお試しください。")}return{changeCard:function(e){if("000"===e.resultCode)return e.tokenObject.isSecurityCodeSet?void function(e){$.post("/premium/change_card",{user_id:$("#user_id").val(),token:e.tokenObject.token,js_token:$("#js_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){$("#success_change_card").show(),document.getElementById(t).reset(),document.getElementById("js_token").value=e.js_token,n()}).fail(function(e){alert($.parseJSON(e.responseText).error.message),n()})}(e):(alert("セキュリティコードを入力してください"),void n());o(e.resultCode),n()},purchaseLicense:function(e){if("000"===e.resultCode)return e.tokenObject.isSecurityCodeSet?void function(e){$.post("/business/purchase",{holder_name:$("#card_name").val(),gpay_token:e.tokenObject.token,purchase_token:$("#purchase_token").val(),js_token:$("#js_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){location.href=e.next_location}).fail(function(e){alert($.parseJSON(e.responseText).error.message),n()})}(e):(alert("セキュリティコードを入力してください"),void n());o(e.resultCode),n()},registerPremium:function(e){if("000"===e.resultCode)return e.tokenObject.isSecurityCodeSet?void function(e){$.post("/premium/purchase",{user_id:$("#user_id").val(),payment_method_id:2,token:e.tokenObject.token,js_token:$("#js_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){location.href=e.next_location}).fail(function(e){alert($.parseJSON(e.responseText).error.message),n()})}(e):(alert("セキュリティコードを入力してください"),void n());o(e.resultCode),n()},setFormSelector:function(e){t=e},setSelectorsOfComponents:function(t){e=t}}}();e.exports=o},function(e,t,n){"use strict";var o=n(36),s=n(37),i=n(38),a=function(){return{focusByKey:function(e,t,n){if(e.which!==t)return!1;var o=e.target||e.srcElement;(1!==o.nodeType||"TEXTAREA"!==o.nodeName&&"INPUT"!==o.nodeName)&&(e.preventDefault(),n.focus(),n.select())},inputTabChar:function(e,t){var n,o,s;if(9===t.keyCode)return void 0!==t.preventDefault&&t.preventDefault(),o=e.get(0).selectionStart,s=e.get(0).selectionEnd,n=e.val(),e.val(n.substr(0,o)+"\t"+n.substr(s)),e.get(0).selectionStart=o+1,e.get(0).selectionEnd=o+1,!1},insertAtCaret:function(e,t){var n,o,s,i,a=!0;void 0!==arguments[2]&&!1===arguments[2]&&(a=!1),n=e.get(0).selectionStart,o=e.get(0).selectionEnd,i=""+(s=e.val()).substr(0,n),a&&(i+="\n"),i+=t+s.substr(o),e.val(i),e.get(0).selectionStart=n+t.length+1,e.get(0).selectionEnd=n+t.length+1},clickToMention:s,quote:o,suggester:i}}();e.exports=a},function(e,t,n){"use strict";var o=function(){return{execute:function(e,t){var n,o,s,i="";if(e.which==="r".charCodeAt(0)&&!e.metaKey&&!e.ctrlKey&&(1!==(s=e.target||e.srcElement).nodeType||"TEXTAREA"!==s.nodeName&&"INPUT"!==s.nodeName)&&1===$(t).length&&!$(t).is(":hidden")&&(e.preventDefault(),""!==(n=window.getSelection().toString()))){if(""!==(o=$(t).val()))for(;!/(\n{2}|\r{2}|\r\n\r\n)$/.test(o);)o+="\n";i+=(n=n.split(/\r\n|\r|\n/).map(function(e){return"> "+e}).join("\n"))+"\n\n",$(t).focus().val(o+i)}}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){function e(e,t){1===$(t).length&&($(t).is(":hidden")||($(t).focus(),Dotinstall.form.insertAtCaret($(t),"@"+e+" ",!1)))}return{init:function(t){var n,o=document.getElementsByClassName("click-to-mention");for(n=0;n<o.length;n++)o[n].addEventListener("click",function(){e(this.dataset.username,t)})}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){var e,t,o,s,i=n(0),a=!1,r=0,c="";function l(){var e,n;for(n=new RegExp("^"+c);t.firstChild;)t.removeChild(t.firstChild);for(e=0;e<o.length;e++)n.test(o[e])&&t.appendChild(u(o[e]));t.firstChild&&t.firstChild.classList.add("selected")}function u(e){var t=document.createElement("li");return t.textContent=e,t.addEventListener("mouseover",function(){this.classList.add("selected")}),t.addEventListener("mouseout",function(){this.classList.remove("selected")}),t.addEventListener("click",function(){r>0&&d()}),t}function d(){var e,n;for(e=0;e<t.children.length;e++)if(t.children[e].classList.contains("selected")){n=t.children[e].textContent.substr(c.length)+" ",Dotinstall.form.insertAtCaret($(s),n,!1);break}}function f(e){!function(e){a=!Dotinstall.navigator.detect().isFirefox&&e===i.INPUT_JAPANESE}(e.which),0===r||a||e.which!==i.TAB&&e.which!==i.ARROW_UP&&e.which!==i.ARROW_DOWN&&e.which!==i.ENTER||e.preventDefault()}function m(e){switch(e){case i.TAB:case i.ENTER:return d(),_(),!0;case i.ARROW_UP:return function(){var e=document.querySelector(".suggester-list > .selected");e.classList.remove("selected"),e.previousSibling?e.previousSibling.classList.add("selected"):t.lastChild.classList.add("selected")}(),!0;case i.ARROW_DOWN:return function(){var e=document.querySelector(".suggester-list > .selected");e.classList.remove("selected"),e.nextSibling?e.nextSibling.classList.add("selected"):t.firstChild.classList.add("selected")}(),!0}return!1}function p(e){r>0&&m(e.which)||(this.value.substr(this.selectionStart-1,1)!==this.dataset.suggesterTrigger?0!==r&&(this.selectionStart<r?_():(c=this.value.substr(r,this.selectionStart-r),l(),0===t.children.length&&_())):function(){var e;l(),r=s.selectionStart,e=$(s).textareaHelper("caretPos"),t.style.top=e.top+"px",t.style.left=e.left+"px",t.classList.remove("hide")}())}function _(){r=0,c="",t.classList.add("hide")}return{init:function(n){(s=n).parentNode.style.position="relative",(e=document.createElement("div")).classList.add("suggester-container"),function(e){o=e,(t=document.createElement("ul")).classList.add("suggester-list"),t.classList.add("hide"),l()}(s.dataset.suggesterList.split(",")),e.appendChild(t),s.parentNode.insertBefore(e,s.nextSibling),s.addEventListener("keydown",f),s.addEventListener("keyup",p),s.addEventListener("click",p)}}}();e.exports=o},function(e,t,n){"use strict";var o=function(){function e(e){return"hide-notice-"+escape(e.dataset.noticeType)+"-"+escape(e.dataset.noticeEname)}return{fade:function(){var t,n,o=document.querySelectorAll(".wide-notice-layout > .di-notice");for(t=0;t<o.length;t++)n=e(o[t]),"1"!==Dotinstall.cookie.get(n)?"true"!==o[t].dataset.noticeHide&&o[t].classList.add("fade"):o[t].classList.add("hide")},init:function(){var t,n=document.querySelectorAll(".wide-notice-layout > .di-notice > .di-notice-close");for(t=0;t<n.length;t++)n[t].addEventListener("click",function(){var t,n=this.parentNode,o=escape(n.dataset.noticeEname);n.classList.remove("fade"),t=e(n),Dotinstall.cookie.set(t,1,10800,"/lessons/"+o+"/")})}}}();e.exports=o},function(e,t,n){"use strict";var o=n(41),s=function(){return{setup:function(){!function(){var e,t,n,s;document.getElementById("news_notification")&&(e=new o("news_notification"),t=document.getElementById("news_notification"),n=t.dataset.userId,s=t.dataset.oneTimeToken,void 0!==n&&e.addToggleListener(function(){$.post("/news/mark_as_read.json",{user_id:n,one_time_token:s}).done(function(){t.classList.remove("has-unread")})}))}(),function(){var e,t,n,s;document.getElementById("question_notification")&&(e=new o("question_notification"),t=document.getElementById("question_notification"),n=t.dataset.userId,s=t.dataset.oneTimeToken,void 0!==n&&e.addToggleListener(function(){$.post("/question/mark_notification_as_read.json",{user_id:n,one_time_token:s}).done(function(){t.classList.remove("has-unread")})}))}()}}}();e.exports=s},function(e,t,n){"use strict";var o=function(){var e=function(e){this.id=e;var t=this;this._el=document.getElementById(e),this._toggle=this._el.querySelector(".di-dropdown-toggle"),this._menu=this._el.querySelector(".di-dropdown-menu"),this._triangle=function(){var e=document.createElement("div");return e.classList.add("triangle"),e}(),this._menu.insertBefore(this._triangle,this._menu.firstChild),this._defaultLeftOfMenu=window.getComputedStyle(this._menu).left,this._valToAdjust=0,this._toggle.addEventListener("click",function(e){var n,o,s;for(e.preventDefault(),e.stopPropagation(),s=document.querySelectorAll(".di-dropdown-menu"),o=0;o<s.length;o++)t._menu!==s[o]&&s[o].classList.remove("show");t._menu.style.top=t.calcTopPosOfMenu(),t._menu.classList.contains("show")?t._menu.style.left=t._defaultLeftOfMenu:(t._menu.style.left=t.calcLeftPosOfMenu(),t._triangle.style.left=t.calcLeftPosOfTriangle()),t._menu.classList.toggle("show"),n=function(e){t._menu.classList.remove("show"),t._menu.style.left=t._defaultLeftOfMenu,document.body.removeEventListener("click",n)},document.body.addEventListener("click",n)}),this._menu.addEventListener("click",function(e){e.stopPropagation()})};return e.prototype.addToggleListener=function(e){this._toggle.addEventListener("click",function(){e()})},e.prototype.calcTopPosOfMenu=function(){return this._el.classList.contains("di-dropdown-large")?this._el.getBoundingClientRect().height+8+"px":this._el.getBoundingClientRect().height+4+"px"},e.prototype.calcLeftPosOfMenu=function(){var e,t,n=0,o=this._el.getBoundingClientRect(),s=this._menu.getBoundingClientRect();return this._el.classList.contains("di-dropdown-align-center")?(e=(s.width-o.width)/-2,(t=o.x+e+s.width)>document.body.clientWidth?(this._valToAdjust=t-document.body.clientWidth+8,e-=this._valToAdjust):this._valToAdjust=0,e+"px"):this._el.classList.contains("di-dropdown-align-right")?(this._el.classList.contains("align-spill")&&(n=6),-1*(s.width-o.width)+n+"px"):0},e.prototype.calcLeftPosOfTriangle=function(){var e=this._menu.getBoundingClientRect(),t=this._triangle.getBoundingClientRect();return(e.width-t.width)/2+this._valToAdjust+"px"},e}();e.exports=o},function(e,t,n){"use strict";var o=function(){return{exchange:function(){$.post("/common/exchange_token.json",{prepare_token:document.getElementById("prepare_token").value,one_time_token:document.getElementsByClassName("one_time_token")[0].value}).done(function(e){var t=document.getElementById("prepare_token"),n=document.createElement("input");n.type="hidden",n.name="js_token",n.value=e.token,t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t)})}}}();e.exports=o}]);